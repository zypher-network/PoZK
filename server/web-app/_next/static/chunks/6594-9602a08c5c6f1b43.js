"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6594],{66594:function(e,t,n){n.d(t,{L:function(){return D}});var r=n(68610),i=n(95046),s=n(51359),o=n(64113),a=n(19605),f=n(57426);async function l({hash:e,privateKey:t,to:n="object"}){let{r:s,s:o,recovery:a}=r.secp256k1.sign(e.slice(2),t.slice(2)),l={r:(0,i.eC)(s,{size:32}),s:(0,i.eC)(o,{size:32}),v:a?28n:27n,yParity:a};return"bytes"===n||"hex"===n?(0,f.V)({...l,to:n}):l}var c=n(20807);async function u(e){let{contractAddress:t,chainId:n,nonce:r,privateKey:i,to:s="object"}=e,o=await l({hash:(0,c.t)({contractAddress:t,chainId:n,nonce:r}),privateKey:i,to:s});return"object"===s?{contractAddress:t,chainId:n,nonce:r,...o}:o}var x=n(32933);async function h({message:e,privateKey:t}){return await l({hash:(0,x.r)(e),privateKey:t,to:"hex"})}var w=n(36494),d=n(97658),C=n(40598),N=n(18383),g=n(92486),y=n(30721),p=n(53932),v=n(77955),b=n(7092),P=n(9383),m=n(62798),L=n(6649),z=n(25678),M=n(89045),G=n(37764),T=n(7508),V=n(49014),k=n(21019);function J(e){let{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new M.hJ({chainId:t});if(i&&!(0,o.U)(i))throw new s.b({address:i});if(r&&r>m.zL)throw new G.Hh({maxFeePerGas:r});if(n&&r&&n>r)throw new G.cs({maxFeePerGas:r,maxPriorityFeePerGas:n})}var U=n(33884);function _(e){if(!e||0===e.length)return[];let t=[];for(let n=0;n<e.length;n++){let{address:r,storageKeys:i}=e[n];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new d.JC({storageKey:i[e]});if(!(0,o.U)(r,{strict:!1}))throw new s.b({address:r});t.push([r,i])}return t}function F(e,t){let n=(0,U.l)(e);return"eip1559"===n?function(e,t){let{chainId:n,gas:r,nonce:s,to:o,value:a,maxFeePerGas:f,maxPriorityFeePerGas:l,accessList:c,data:u}=e;J(e);let x=_(c),h=[(0,i.NC)(n),s?(0,i.NC)(s):"0x",l?(0,i.NC)(l):"0x",f?(0,i.NC)(f):"0x",r?(0,i.NC)(r):"0x",o??"0x",a?(0,i.NC)(a):"0x",u??"0x",x,...j(e,t)];return(0,p.SM)(["0x02",(0,b.LV)(h)])}(e,t):"eip2930"===n?function(e,t){let{chainId:n,gas:r,data:a,nonce:f,to:l,value:c,accessList:u,gasPrice:x}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:a}=e;if(t<=0)throw new M.hJ({chainId:t});if(a&&!(0,o.U)(a))throw new s.b({address:a});if(n||i)throw new L.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>m.zL)throw new G.Hh({maxFeePerGas:r})}(e);let h=_(u),w=[(0,i.NC)(n),f?(0,i.NC)(f):"0x",x?(0,i.NC)(x):"0x",r?(0,i.NC)(r):"0x",l??"0x",c?(0,i.NC)(c):"0x",a??"0x",h,...j(e,t)];return(0,p.SM)(["0x01",(0,b.LV)(w)])}(e,t):"eip4844"===n?function(e,t){let{chainId:n,gas:r,nonce:s,to:o,value:a,maxFeePerBlobGas:f,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:x}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new z.RX;for(let e of t){let t=(0,T.d)(e),n=(0,k.ly)((0,V.tP)(e,0,1));if(32!==t)throw new z.xd({hash:e,size:t});if(n!==P.l)throw new z.cJ({hash:e,version:n})}}J(e)}(e);let h=e.blobVersionedHashes,w=e.sidecars;if(e.blobs&&(void 0===h||void 0===w)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,i.ci)(e)),n=e.kzg,r=(0,C.P)({blobs:t,kzg:n});if(void 0===h&&(h=(0,g.C)({commitments:r})),void 0===w){let e=(0,N.y)({blobs:t,commitments:r,kzg:n});w=(0,y.j)({blobs:t,commitments:r,proofs:e})}}let d=_(u),v=[(0,i.NC)(n),s?(0,i.NC)(s):"0x",c?(0,i.NC)(c):"0x",l?(0,i.NC)(l):"0x",r?(0,i.NC)(r):"0x",o??"0x",a?(0,i.NC)(a):"0x",x??"0x",d,f?(0,i.NC)(f):"0x",h??[],...j(e,t)],m=[],L=[],M=[];if(w)for(let e=0;e<w.length;e++){let{blob:t,commitment:n,proof:r}=w[e];m.push(t),L.push(n),M.push(r)}return(0,p.SM)(["0x03",w?(0,b.LV)([v,m,L,M]):(0,b.LV)(v)])}(e,t):"eip7702"===n?function(e,t){let{authorizationList:n,chainId:r,gas:a,nonce:f,to:l,value:c,maxFeePerGas:u,maxPriorityFeePerGas:x,accessList:h,data:w}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{contractAddress:t,chainId:n}=e;if(!(0,o.U)(t))throw new s.b({address:t});if(n<=0)throw new M.hJ({chainId:n})}J(e)}(e);let d=_(h),C=function(e){if(!e||0===e.length)return[];let t=[];for(let n of e){let{contractAddress:e,chainId:r,nonce:s,...o}=n;t.push([(0,i.NC)(r),e,(0,i.NC)(s),...j({},o)])}return t}(n);return(0,p.SM)(["0x04",(0,b.LV)([(0,i.NC)(r),f?(0,i.NC)(f):"0x",x?(0,i.NC)(x):"0x",u?(0,i.NC)(u):"0x",a?(0,i.NC)(a):"0x",l??"0x",c?(0,i.NC)(c):"0x",w??"0x",d,C,...j(e,t)])])}(e,t):function(e,t){let{chainId:n=0,gas:r,data:a,nonce:f,to:l,value:c,gasPrice:u}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:a}=e;if(a&&!(0,o.U)(a))throw new s.b({address:a});if(void 0!==t&&t<=0)throw new M.hJ({chainId:t});if(n||i)throw new L.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>m.zL)throw new G.Hh({maxFeePerGas:r})}(e);let x=[f?(0,i.NC)(f):"0x",u?(0,i.NC)(u):"0x",r?(0,i.NC)(r):"0x",l??"0x",c?(0,i.NC)(c):"0x",a??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(n>0)return BigInt(2*n)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new d.vl({v:t.v});return e})(),r=(0,v.f)(t.r),s=(0,v.f)(t.s);x=[...x,(0,i.NC)(e),"0x00"===r?"0x":r,"0x00"===s?"0x":s]}else n>0&&(x=[...x,(0,i.NC)(n),"0x","0x"]);return(0,b.LV)(x)}(e,t)}function j(e,t){let n=t??e,{v:r,yParity:s}=n;if(void 0===n.r||void 0===n.s||void 0===r&&void 0===s)return[];let o=(0,v.f)(n.r),a=(0,v.f)(n.s);return["number"==typeof s?s?(0,i.NC)(1):"0x":0n===r?"0x":1n===r?(0,i.NC)(1):27n===r?"0x":(0,i.NC)(1),"0x00"===o?"0x":o,"0x00"===a?"0x":a]}async function H(e){let{privateKey:t,transaction:n,serializer:r=F}=e,i="eip4844"===n.type?{...n,sidecars:!1}:n,s=await l({hash:(0,w.w)(r(i)),privateKey:t});return r(n,s)}var S=n(51930);async function A(e){let{privateKey:t,...n}=e;return await l({hash:(0,S.Jv)(n),privateKey:t,to:"hex"})}function D(e,t={}){let{nonceManager:n}=t,f=(0,i.NC)(r.secp256k1.getPublicKey(e.slice(2),!1));return{...function(e){if("string"==typeof e){if(!(0,o.U)(e,{strict:!1}))throw new s.b({address:e});return{address:e,type:"json-rpc"}}if(!(0,o.U)(e.address,{strict:!1}))throw new s.b({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,experimental_signAuthorization:e.experimental_signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:(0,a.y)(f),nonceManager:n,sign:async({hash:t})=>l({hash:t,privateKey:e,to:"hex"}),experimental_signAuthorization:async t=>u({...t,privateKey:e}),signMessage:async({message:t})=>h({message:t,privateKey:e}),signTransaction:async(t,{serializer:n}={})=>H({privateKey:e,transaction:t,serializer:n}),signTypedData:async t=>A({...t,privateKey:e})}),publicKey:f,source:"privateKey"}}}}]);